<!-- Render meal kit cards in the cart -->
<section class="Meal-kits">
  <div class="container">
      <h2 class="categoryName text-center mb-4 display-4">ADD To Cart</h2>
      <div class="row justify-content-center"> <!-- Center align the row -->
          <div class="col-12 col-md-10"> <!-- Adjusted column size -->
              <div class="row row-cols-1 row-cols-md-2 row-cols-lg-2 g-4 justify-content-center"> <!-- Center align and add space around the cards -->
                  <% mealKits.forEach(mealKit => { %>
                      <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4 d-flex align-items-stretch">
                          <div class="flip-card p-8">
                              <div class="flip-card-inner">
                                  <div class="flip-card-front">
                                      <img src="<%= mealKit.imageUrl %>" class="card-img-top" alt="<%= mealKit.title %>">
                                      <div class="card-body">
                                          <h5 class="card-title"><%= mealKit.title %></h5>
                                          <p class="price">$<%= mealKit.price.toFixed(2) %></p>
                                          <p class="includes"><strong>Includes:</strong> <%= mealKit.includes %></p>
                                          <p class="cookingTime"><strong>Cooking Time:</strong> <%= mealKit.cookingTime %> minutes</p>
                                          <p class="servings"><strong>Servings:</strong> <%= mealKit.servings %></p>
                                      </div>
                                  </div>
                                  <div class="flip-card-back">
                                      <div class="card-body">
                                          <p class="card-description"><%= mealKit.description %></p>
                                          <p class="category">Category: <%= mealKit.category %></p>
                                          <!-- Add to Cart button -->
                                          <button class="btn btn-primary" data-toggle="modal" data-target="#quantityModal_<%= mealKit.id %>">Add to Cart</button>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <!-- Quantity Selection Modal -->
                      <div class="modal fade" id="quantityModal_<%= mealKit.id %>" tabindex="-1" role="dialog" aria-labelledby="quantityModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                  <div class="modal-header">
                                      <h5 class="modal-title" id="quantityModalLabel">Select Quantity</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                      </button>
                                  </div>
                                  <div class="modal-body">
                                      <!-- Quantity selection input -->
                                      <input type="number" id="quantity_<%= mealKit.id %>" min="1" value="1" class="form-control">
                                  </div>
                                  <div class="modal-footer">
                                      <!-- Add button to add the selected quantity to the cart -->
                                      <button type="button" class="btn btn-primary" onclick="addToCartAndRedirect('<%= JSON.stringify(mealKit) %>')">Add</button>

                                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  <% }); %>
              </div>
          </div>
      </div>
  </div>
</section>
